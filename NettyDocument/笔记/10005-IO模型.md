# 10005-IO模型

Java共支持3种网络编程模型/IO模式：BIO、NIO、AIO

**1、****Java BIO** ： 同步并阻塞(**传统阻塞型**)，服务器实现模式为一个连接一个线程，即客户端有连接请求时服务器端就需要启动一个线程进行处理，如果这个连接不做任何事情会造成不必要的线程开销 。BIO模式来一个连接开一个线程，线程不会复用，不忙时就这样闲着，造成资源浪费。

BIO方式适用于**连接数目比较小且固定的架构**，这种方式对服务器资源要求比较高

![10005-1](images\10005-1.jpg)

缺点：1.一个连接需要一个线程，这样当客户端很多时，需要很多线程，2.所有的连接最终都把压力集中在服务端，客户端可以非常多，但服务端是有限的，3.每个连接是阻塞的，4.造成资源浪费，因为每个线程对应的连接都不会时时使用，可能大部分时候是空闲的。

**2、****Java NIO** ： **同步非阻塞**，服务器实现模式为一个线程处理多个请求(连接)，即客户端发送的连接请求都会注册到多路复用器上，多路复用器轮询到连接有I/O请求就进行处理。

NIO方式适用于**连接数目多且连接比较短**（轻操作）的架构，比如聊天服务器，弹幕系统，服务器间通讯等。编程比较复杂，从JDK1.4开始支持。

![10005-2](images\10005-2.jpg)

![10005-3](images\10005-3.jpg)

一个线程可以调用一个selector,一个selector可以管理多个通道channel，而netty本身可以实现channel与buffer之前的双向读写，而client访问的是buffer，就是因为这个buffer实现了非阻塞，解耦了阻塞。

一个线程可以有多个连接，主要是这样不会导致线程有闲置。

**3、Java AIO(NIO.2)** ： **异步非阻塞**，AIO 引入异步通道的概念，采用了 Proactor 模式，简化了程序编写，有效的请求才启动线程，它的特点是先由操作系统完成后才通知服务端程序启动线程去处理，一般适用于连接数较多且连接时间较长的应用

AIO方式使用于**连接数目多且连接比较长**（重操作）的架构，比如相册服务器，充分调用OS参与并发操作，编程比较复杂，**JDK1.7开始支持**。